focus_tree = {

    id = GTR_project1_focus_tree

    country = {
        factor = 0
        modifier = {
            add = 20
            original_tag = GTR
        }
    }

    default = no
    reset_on_civilwar = no



    focus = {
        id = GTR_focus_project_1
        x = 10
        y = 0

        icon = GFX_focus_GTR_project_1

        available = { always = no }

        allow_branch = { has_country_flag = project1_mechanic_started }

        cost = 0

        ai_will_do = {
            base = 5
        }

        completion_reward = {

        }
    }

    focus = {
        id = GTR_focus_stage_1
        relative_position_id = GTR_focus_project_1
        x = -3
        y = 1

        icon = GFX_focus_GTR_stage_1

        prerequisite = { focus = GTR_focus_project_1 }

        cost = 2

        ai_will_do = {
            base = 5
        }

        completion_reward = {
            country_event = {
                id = GTR_event.2
                random_hours = 12
            }
        }
    }

    focus = {
        id = GTR_focus_best_minds
        relative_position_id = GTR_focus_project_1
        x = -3
        y = 2

        icon = GFX_focus_GTR_best_minds

        prerequisite = { focus = GTR_focus_stage_1 }

        cost = 3

        ai_will_do = {
            base = 5
        }

        completion_reward = {
            custom_effect_tooltip = l_GTR_adds_progress_stage1
            hidden_effect = {
                add_to_variable = { var_GTR_weekly_progress_stage1 = 2 }
            }
        }
    }

    focus = {
        id = GTR_focus_make_a_recipe
        relative_position_id = GTR_focus_project_1
        x = -3
        y = 3

        icon = GFX_focus_GTR_make_a_recipe

        prerequisite = { focus = GTR_focus_best_minds }

        cost = 3

        ai_will_do = {
            base = 5
        }

        completion_reward = {
            custom_effect_tooltip = l_GTR_adds_progress_stage1
            hidden_effect = {
                add_to_variable = { var_GTR_weekly_progress_stage1 = 2 }
            }
            country_event = {
                id = GTR_event.3
                random_hours = 12
            }
        }
    }

    focus = {
        id = GTR_focus_stage_2
        relative_position_id = GTR_focus_project_1
        y = 1

        icon = GFX_focus_GTR_stage_2

        prerequisite = { focus = GTR_focus_project_1 }

        cost = 2

        ai_will_do = {
            base = 5
        }

        completion_reward = {
            country_event = {
                id = GTR_event.4
                random_hours = 12
            }
        }
    }

    focus = {
        id = GTR_focus_austerity_politics
        relative_position_id = GTR_focus_project_1
        x = -1
        y = 2

        icon = GFX_focus_GTR_austerity_politics

        prerequisite = { focus = GTR_focus_stage_2 }

        cost = 3

        ai_will_do = {
            base = 5
        }

        completion_reward = {
            add_stability = -0.05
            custom_effect_tooltip = l_GTR_adds_progress_stage2
            custom_effect_tooltip = l_GTR_opens_requistion
            hidden_effect = {
                add_to_variable = { var_GTR_weekly_progress_stage2 = 2 }
            }
        }
    }

    focus = {
        id = GTR_focus_integrate_greenheart
        relative_position_id = GTR_focus_project_1
        x = 1
        y = 2

        icon = GFX_focus_GTR_integrate_greenheart

        prerequisite = { focus = GTR_focus_stage_2 }

        cost = 3

        ai_will_do = {
            base = 5
        }

        completion_reward = {
            country_event = {
                id = GTR_event.5
                random_hours = 12
            }
        }
    }

    focus = {
        id = GTR_focus_get_digging
        relative_position_id = GTR_focus_project_1
        y = 3

        icon = GFX_focus_GTR_get_digging

        prerequisite = { focus = GTR_focus_austerity_politics }
        prerequisite = { focus = GTR_focus_integrate_greenheart }

        cost = 3

        ai_will_do = {
            base = 5
        }

        completion_reward = {
            77 = {
                add_resource = {
                    type = steel
                    amount = 20
                }
            }
            89 = {
                add_resource = {
                    type = aluminium
                    amount = 10
                }
            }
            custom_effect_tooltip = l_GTR_adds_progress_stage2
            hidden_effect = {
                add_to_variable = { var_GTR_weekly_progress_stage2 = 2 }
            }
        }
    }

    focus = {
        id = GTR_focus_stage_3
        relative_position_id = GTR_focus_project_1
        y = 1
        x = 3

        icon = GFX_focus_GTR_stage_3

        prerequisite = { focus = GTR_focus_project_1 }

        available = {
            custom_trigger_tooltip = {
                tooltip = l_GTR_prev_stages_done

                has_country_flag = stage1_done
                has_country_flag = stage2_done
            }
        }

        cost = 3

        ai_will_do = {
            base = 5
        }

        completion_reward = {
            country_event = {
                id = GTR_event.6
                random_hours = 12
            }
        }
    }

    focus = {
        id = GTR_focus_mix_it_up
        relative_position_id = GTR_focus_project_1
        y = 2
        x = 3

        icon = GFX_focus_GTR_mix_it_up

        prerequisite = { focus = GTR_focus_stage_3 }

        cost = 3

        ai_will_do = {
            base = 5
        }

        completion_reward = {
            custom_effect_tooltip = l_GTR_adds_progress_stage3
            hidden_effect = {
                add_to_variable = { var_GTR_weekly_progress_stage3 = 2 }
            }
        }
    }

    focus = {
        id = GTR_focus_get_the_oven_ready
        relative_position_id = GTR_focus_project_1
        y = 3
        x = 3

        icon = GFX_focus_GTR_get_the_oven_ready

        prerequisite = { focus = GTR_focus_mix_it_up }

        cost = 3

        ai_will_do = {
            base = 5
        }

        completion_reward = {
            custom_effect_tooltip = l_GTR_adds_progress_stage3
            hidden_effect = {
                add_to_variable = { var_GTR_weekly_progress_stage3 = 2 }
            }
        }
    }

    focus = {
        id = GTR_focus_testings
        relative_position_id = GTR_focus_project_1
        y = 5

        icon = GFX_focus_GTR_testings

        prerequisite = { focus = GTR_focus_make_a_recipe }
        prerequisite = { focus = GTR_focus_get_digging }
        prerequisite = { focus = GTR_focus_get_the_oven_ready }

        available = {
            custom_trigger_tooltip = {
                tooltip = l_GTR_all_stages_done

                has_country_flag = stage1_done
                has_country_flag = stage2_done
                has_country_flag = stage3_done
            }
            hidden_trigger = {
                NOT = { has_country_flag = ohh_thats_bad }
            }
        }
        cancel_if_invalid = yes

        cost = 10

        ai_will_do = {
            base = 5
        }

        select_effect = {
            hidden_effect = {
                country_event = {
                    id = GTR_event.10
                    days = 14
                    random_days = 2
                    random_hours = 12
                }
            }
        }

        completion_reward = {
            custom_effect_tooltip = l_GTR_testings
        }
    }
}